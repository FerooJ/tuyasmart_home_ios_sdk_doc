
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Smart scene · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="SmartScene.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Overview.html">
            
                <a href="Overview.html">
            
                    
                    Function Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Initiate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="User.html">
            
                <a href="User.html">
            
                    
                    User management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="User_Register.html">
            
                <a href="User_Register.html">
            
                    
                    User Registration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="User_Login.html">
            
                <a href="User_Login.html">
            
                    
                    User Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="User_ThirdLogin.html">
            
                <a href="User_ThirdLogin.html">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="User_Reset.html">
            
                <a href="User_Reset.html">
            
                    
                    Resetting Password by User
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="User_Loginout.html">
            
                <a href="User_Loginout.html">
            
                    
                    Modify nickname，Logout，Disable account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="User_Session.html">
            
                <a href="User_Session.html">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Home management
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="HomeManager.html">
            
                <a href="HomeManager.html">
            
                    
                    Home management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="Home.html">
            
                <a href="Home.html">
            
                    
                    Home information management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="Room.html">
            
                <a href="Room.html">
            
                    
                    Room information management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Activator.html">
            
                <a href="Activator.html">
            
                    
                    Network Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Activator_EZ.html">
            
                <a href="Activator_EZ.html">
            
                    
                    EZ mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Activator_AP.html">
            
                <a href="Activator_AP.html">
            
                    
                    AP mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="Activator_Zigbee.html">
            
                <a href="Activator_Zigbee.html">
            
                    
                    Activate the ZigBee Gateway
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="Activator_ZigbeeSub.html">
            
                <a href="Activator_ZigbeeSub.html">
            
                    
                    Activate the ZigBee sub-device
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Device control
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="Device.html">
            
                <a href="Device.html">
            
                    
                    Device control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="Ota.html">
            
                <a href="Ota.html">
            
                    
                    Firmware upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="Shared.html">
            
                <a href="Shared.html">
            
                    
                    Share devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="Shared_Home.html">
            
                <a href="Shared_Home.html">
            
                    
                    Share with home members
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="Shared_Device.html">
            
                <a href="Shared_Device.html">
            
                    
                    Share devices
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    Smart scene
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.13.1" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html">
            
                    
                    Smart scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="SmartScene.html">
            
                <a href="SmartScene.html">
            
                    
                    Scene operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="Message.html">
            
                <a href="Message.html">
            
                    
                    Message center
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="Feedback.html">
            
                <a href="Feedback.html">
            
                    
                    Feedback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="CommonInterface.html">
            
                <a href="CommonInterface.html">
            
                    
                    Common interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="Push.html">
            
                <a href="Push.html">
            
                    
                    Register pushId
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="Faq.html">
            
                <a href="Faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Smart scene</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="smart-scene">Smart scene</h2>
<p>The Tuya Cloud allows users to set meteorological or device conditions based on actual scenes in life, and if conditions are met, one or multiple devices will carry out corresponding tasks. </p>
<p>All functions related to scenes will be realized by using the <code>TuyaSmartScene</code> class and the <code>TuyaSmartSceneManager</code> class. The <code>TuyaSmartScene</code> class provides 4 operations, namely, adding, editing, removing and operating, for single scene, and the scene id is required for initiation. The scene id refers to the <code>sceneId</code> of the <code>TuyaSmartSceneModel</code>, and it can be obtained from the scene list. The <code>TuyaSmartSceneManager</code> class (singleton) mainly provides all data related to conditions, tasks, devices and city for scenes. </p>
<p>Before using interfaces related to the smart scene, you have to understand the scene conditions of scene tasks first.</p>
<h3 id="scene-conditions">Scene conditions</h3>
<p>All scenes conditions are defined in the <code>TuyaSmartSceneConditionModel</code> class, and Tuya supports two types of conditions:</p>
<ul>
<li>Meteorological conditions including temperature, humidity, weather, PM2.5, air quality and sunrise and sunset. User can select city when he/she selects the meteorological conditions. </li>
<li>Device conditions: if you have preset a function status for a device, the task in the scene will be triggered when the device status is reached. To avoid conflicts in operation, the same device cannot be used for both conditions and task at the same time. </li>
<li>Timing conditions: the device will carry out preset task at the required time. </li>
</ul>
<h3 id="scene-action">Scene action</h3>
<p>In this case, one or multiple devices will run some operations or enable or disable an automation action (with scene conditions) when the preset meteorological or device conditions are met. All relevant functions are realized in the <code>TuyaSmartSceneActionModel</code> class. </p>
<h3 id="obtain-scene-list">Obtain scene list</h3>
<pre><code class="lang-objc"><span class="hljs-comment">// &#x83B7;&#x53D6;&#x5BB6;&#x5EAD;&#x4E0B;&#x7684;&#x573A;&#x666F;&#x5217;&#x8868;</span>
- (<span class="hljs-keyword">void</span>)getSmartSceneList {
    [[TuyaSmartSceneManager sharedInstance] getSceneListWithHomeId:homeId success:^(<span class="hljs-built_in">NSArray</span>&lt;TuyaSmartSceneModel *&gt; *list) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get scene list success %@:&quot;</span>, list);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get scene list failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="add-scenes">Add scenes</h3>
<p>User needs to upload the name of scene, Id of home, url of background pictures, showing the picture in the home page or not, task list (one at least) and determine carrying out task(s) when one or multiple conditions are met when he/she add a scene. The user can just set the name, tasks, background picture, but he/she has to set conditions manually. </p>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)addSmartScene {

    [TuyaSmartScene addNewSceneWithName:<span class="hljs-string">@&quot;your_scene_name&quot;</span> homeId:homeId background:<span class="hljs-string">@&quot;background_url&quot;</span> showFirstPage:<span class="hljs-literal">YES</span> conditionList:(<span class="hljs-built_in">NSArray</span>&lt;TuyaSmartSceneConditionModel *&gt; *) actionList:(<span class="hljs-built_in">NSArray</span>&lt;TuyaSmartSceneActionModel *&gt; *) matchType:TuyaSmartConditionMatchAny success:^(TuyaSmartSceneModel *sceneModel) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;add scene success %@:&quot;</span>, sceneModel);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;add scene failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="edit-scene">Edit scene</h3>
<p>User needs to edit the name of scene, background pictures, condition list, task list, and determine carrying out task(s) when one or multiple conditions are met. </p>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)modifySmartScene {
<span class="hljs-comment">//    self.smartScene = [TuyaSmartScene sceneWithSceneId:@&quot;your_scene_id&quot;];</span>
    [<span class="hljs-keyword">self</span>.smartScene modifySceneWithName:name background:<span class="hljs-string">@&quot;background_url&quot;</span> showFirstPage:<span class="hljs-literal">YES</span> condition:(<span class="hljs-built_in">NSArray</span>&lt;TuyaSmartSceneConditionModel *&gt; *) actionList:(<span class="hljs-built_in">NSArray</span>&lt;TuyaSmartSceneActionModel *&gt; *) matchType:TuyaSmartConditionMatchAny success:^{
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;modify scene success&quot;</span>);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;modify scene failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="delete-scene">Delete scene</h3>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)deleteSmartScene {
<span class="hljs-comment">//    self.smartScene = [TuyaSmartScene sceneWithSceneId:@&quot;your_scene_id&quot;];</span>
    [<span class="hljs-keyword">self</span>.smartScene deleteSceneWithSuccess:^{
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;delete scene success&quot;</span>);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;delete scene failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="execute-scene">Execute scene</h3>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)executeSmartScene {
<span class="hljs-comment">//    self.smartScene = [TuyaSmartScene sceneWithSceneId:@&quot;your_scene_id&quot;];</span>
    [<span class="hljs-keyword">self</span>.smartScene executeSceneWithSuccess:^{
           <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;execute scene success&quot;</span>);    
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;execute scene failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="enable-scene-scene-with-at-least-one-condition-can-be-enabled-or-disabled">Enable scene (scene with at least one condition can be enabled or disabled)</h3>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)enableSmartScene {
<span class="hljs-comment">//    self.smartScene = [TuyaSmartScene sceneWithSceneId:@&quot;your_scene_id&quot;];</span>
    [<span class="hljs-keyword">self</span>.smartScene enableSceneWithSuccess:^{
           <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;enable scene success&quot;</span>);    
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;enable scene failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="disable-scene-scene-with-at-least-one-condition-can-be-enabled-or-disabled">Disable scene (scene with at least one condition can be enabled or disabled)</h3>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)disableSmartScene {
<span class="hljs-comment">//    self.smartScene = [TuyaSmartScene sceneWithSceneId:@&quot;your_scene_id&quot;];</span>
    [<span class="hljs-keyword">self</span>.smartScene disableSceneWithSuccess:^{
           <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;disable scene success&quot;</span>);    
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;disable scene failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="obtain-condition-list">Obtain condition list</h3>
<p>Obtain condition list. The condition can be temperature, humidity, weather, PM2.5, sunrise and sunset. It shall be noted that the device can also be a condition. The temperature can be in the Celsius system and Fahrenheit, and data shall be uploaded based on needs. </p>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)getConditionList {
    [[TuyaSmartSceneManager sharedInstance] getConditionListWithFahrenheit:<span class="hljs-literal">YES</span> success:^(<span class="hljs-built_in">NSArray</span>&lt;TuyaSmartSceneDPModel *&gt; *list) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get condition list success:%@&quot;</span>, list);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get condition list failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="obtain-the-action-device-list">Obtain the action device list</h3>
<p>When adding tasks, the device list of task shall be obtained. </p>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)getActionDeviceList {
    [[TuyaSmartSceneManager sharedInstance] getActionDeviceListWithHomeId:homeId success:^(<span class="hljs-built_in">NSArray</span>&lt;TuyaSmartDeviceModel *&gt; *list) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get action device list success:%@&quot;</span>, list);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get action device list failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="obtain-the-condition-device-list">Obtain the condition device list</h3>
<p>Except for meteorological conditions such as temperature, humidity and weather, etc., the device can also be a condition. The condition device list shall be obtained, and one device that is carrying out some tasks will be used as a condition. </p>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)getConditionDeviceList {
    [[TuyaSmartSceneManager sharedInstance] getConditionDeviceListWithHomeId:homeId success:^(<span class="hljs-built_in">NSArray</span>&lt;TuyaSmartDeviceModel *&gt; *list) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get condition device list success:%@&quot;</span>, list);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get condition device list failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="obtain-the-dp-list-of-action-device">Obtain the dp list of action device</h3>
<p>When adding or editing scene actions, the user needs to obtain the device dp list based on the deviceId of devices to select a dp function point so as to assign the action to the device. </p>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)getActionDeviceDPList {
    [[TuyaSmartSceneManager sharedInstance] getActionDeviceDPList:<span class="hljs-string">@&quot;your_device_id&quot;</span> success:^(<span class="hljs-built_in">NSArray</span>&lt;TuyaSmartSceneDPModel *&gt; *list) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get action device dp list success:%@&quot;</span>, list);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get action device dp list failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="obtain-the-dp-list-of-condition-device">Obtain the dp list of condition device</h3>
<p>When selecting scene conditions, the user needs to obtain the device dp list based on the deviceId to select a dp function point so that the operation of the dp function of a device can be used as the condition of the scene.</p>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)getCondicationDeviceDPList {
    [[TuyaSmartSceneManager sharedInstance] getCondicationDeviceDPList:<span class="hljs-string">@&quot;your_device_id&quot;</span> success:^(<span class="hljs-built_in">NSArray</span>&lt;TuyaSmartSceneDPModel *&gt; *list) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get condition device dp list success:%@&quot;</span>, list);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get condition device dp list failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="obtain-the-city-list">Obtain the city list</h3>
<p>When selecting meteorological conditions for scene, user can obtain the city list according to the country code. The user can select the city he is currently in. (Note: city list of some foreign countries may be incomplete temporarily. If you are not in China, it is recommended that you obtain the city information according to the altitude and longitude.)</p>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)getCityList {
    [[TuyaSmartSceneManager sharedInstance] getCityList:<span class="hljs-string">@&quot;your_country_code&quot;</span> success:^(<span class="hljs-built_in">NSArray</span>&lt;TuyaSmartCityModel *&gt; *list) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get city list success:%@&quot;</span>, list);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
           <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get city list failure: %@&quot;</span>, error);    
    }];
}
</code></pre>
<h3 id="obtain-the-city-information-according-to-the-altitude-and-longitude-of-city">Obtain the city information according to the altitude and longitude of city</h3>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)getCityInfo {
    [[TuyaSmartSceneManager sharedInstance] getCityInfo:<span class="hljs-string">@&quot;your_location_latitude&quot;</span> longitude:<span class="hljs-string">@&quot;your_location_longitude&quot;</span> success:^(TuyaSmartCityModel *city) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get city info success:%@&quot;</span>, city);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get city info failure:%@&quot;</span>, error);       
    }];
}
</code></pre>
<h3 id="obtain-the-city-information-according-to-the-city-id">Obtain the city information according to the city id.</h3>
<p>Obtain the city information according to the city id. The city id can be attained from the city list. </p>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>) getCityInfo {
    [[TuyaSmartSceneManager sharedInstance] getCityInfoByCityId:<span class="hljs-string">@&quot;your_city_id&quot;</span> success:^(TuyaSmartCityModel *city) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get city info success:%@&quot;</span>, city);     
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get city info failure:%@&quot;</span>, error);       
    }];
}
</code></pre>
<h3 id="sort-scene">Sort scene</h3>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>) sortScene {
    [[TuyaSmartSceneManager sharedInstance] sortSceneWithHomeId:homeId sceneIdList:(<span class="hljs-built_in">NSArray</span>&lt;<span class="hljs-built_in">NSString</span> *&gt; *) success:^{
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;sort scene success&quot;</span>); 
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;sort scene failure:%@&quot;</span>, error);
    }];
}
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="SmartScene.html" class="navigation navigation-next navigation-unique" aria-label="Next page: Scene operation">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Smart scene","level":"1.13.1","depth":2,"next":{"title":"Scene operation","level":"1.13.2","depth":2,"path":"resource/SmartScene.md","ref":"./resource/SmartScene.md","articles":[]},"previous":{"title":"Smart scene","level":"1.13","depth":1,"ref":"","articles":[{"title":"Smart scene","level":"1.13.1","depth":2,"path":"resource/SmartScene_Manager.md","ref":"./resource/SmartScene_Manager.md","articles":[]},{"title":"Scene operation","level":"1.13.2","depth":2,"path":"resource/SmartScene.md","ref":"./resource/SmartScene.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/SmartScene_Manager.md","mtime":"2018-10-26T09:13:47.953Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-10-30T13:23:36.167Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

