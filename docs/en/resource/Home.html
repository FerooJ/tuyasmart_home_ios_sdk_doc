
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Home information management · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Room.html" />
    
    
    <link rel="prev" href="HomeManager.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Overview.html">
            
                <a href="Overview.html">
            
                    
                    Function Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Initiate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="User.html">
            
                <a href="User.html">
            
                    
                    User management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="User_Register.html">
            
                <a href="User_Register.html">
            
                    
                    User Registration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="User_Login.html">
            
                <a href="User_Login.html">
            
                    
                    User Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="User_ThirdLogin.html">
            
                <a href="User_ThirdLogin.html">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="User_Reset.html">
            
                <a href="User_Reset.html">
            
                    
                    Resetting Password by User
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="User_Loginout.html">
            
                <a href="User_Loginout.html">
            
                    
                    Modify nickname，Logout，Disable account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="User_Session.html">
            
                <a href="User_Session.html">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Home management
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="HomeManager.html">
            
                <a href="HomeManager.html">
            
                    
                    Home management
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6.2" data-path="Home.html">
            
                <a href="Home.html">
            
                    
                    Home information management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="Room.html">
            
                <a href="Room.html">
            
                    
                    Room information management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Activator.html">
            
                <a href="Activator.html">
            
                    
                    Network Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Activator_EZ.html">
            
                <a href="Activator_EZ.html">
            
                    
                    EZ mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Activator_AP.html">
            
                <a href="Activator_AP.html">
            
                    
                    AP mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="Activator_Zigbee.html">
            
                <a href="Activator_Zigbee.html">
            
                    
                    Wired network configuration of zigbee
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="Activator_ZigbeeSub.html">
            
                <a href="Activator_ZigbeeSub.html">
            
                    
                    Activate the ZigBee sub-device
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Device control
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="Device.html">
            
                <a href="Device.html">
            
                    
                    Device control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="Ota.html">
            
                <a href="Ota.html">
            
                    
                    Firmware upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="Shared.html">
            
                <a href="Shared.html">
            
                    
                    Share devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="Shared_Home.html">
            
                <a href="Shared_Home.html">
            
                    
                    Share with home members
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="Shared_Device.html">
            
                <a href="Shared_Device.html">
            
                    
                    Share devices
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    Smart scene
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html">
            
                    
                    Smart scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="SmartScene.html">
            
                <a href="SmartScene.html">
            
                    
                    Scene operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="Message.html">
            
                <a href="Message.html">
            
                    
                    Message center
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="Feedback.html">
            
                <a href="Feedback.html">
            
                    
                    Feedback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="CommonInterface.html">
            
                <a href="CommonInterface.html">
            
                    
                    Common interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="Push.html">
            
                <a href="Push.html">
            
                    
                    Register pushId
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="Faq.html">
            
                <a href="Faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Home information management</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="home-information-management">Home information management</h2>
<p>Main function: it is used to obtain, change and dismiss a home. Obtain, add and delete member of a home. Add, dismiss and remove room.
The home ID needs to be used to initiate all TuyaSmartHome classes related to all functions for home information management. Wrong home ID may cause initiation failure, and the nil will be returned. </p>
<h3 id="callback-of-information-change-of-home">Callback of information change of home</h3>
<p>After the <code>TuyaSmartHomeDelegate</code> delegate protocol is realized, user can proceed operations in the home information change. </p>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)initHome {
    <span class="hljs-keyword">self</span>.home = [TuyaSmartHome homeWithHomeId:homeId];
    <span class="hljs-keyword">self</span>.home.delegate = <span class="hljs-keyword">self</span>;
}

<span class="hljs-meta">#pragma mark - TuyaSmartHomeDelegate</span>

<span class="hljs-comment">//Update information of home, such as name.</span>
- (<span class="hljs-keyword">void</span>)homeDidUpdateInfo:(TuyaSmartHome *)home {
    [<span class="hljs-keyword">self</span> reload];
}

<span class="hljs-comment">// The change of relation between home and room.</span>
- (<span class="hljs-keyword">void</span>)homeDidUpdateRoomInfo:(TuyaSmartHome *)home {
    [<span class="hljs-keyword">self</span> reload];
}

<span class="hljs-comment">// Received change of shared device list.</span>
- (<span class="hljs-keyword">void</span>)homeDidUpdateSharedInfo:(TuyaSmartHome *)home {
    [<span class="hljs-keyword">self</span> reload];
}

<span class="hljs-comment">// room information change, such as name.</span>
- (<span class="hljs-keyword">void</span>)home:(TuyaSmartHome *)home roomInfoUpdate:(TuyaSmartRoomModel *)room {
    [<span class="hljs-keyword">self</span> reload];
}

<span class="hljs-comment">// The change of relation between  room and devices and group. </span>
- (<span class="hljs-keyword">void</span>)home:(TuyaSmartHome *)home roomRelationUpdate:(TuyaSmartRoomModel *)room {
    [<span class="hljs-keyword">self</span> reload];
}

<span class="hljs-comment">//Add device</span>
- (<span class="hljs-keyword">void</span>)home:(TuyaSmartHome *)home didAddDeivice:(TuyaSmartDeviceModel *)device {
    [<span class="hljs-keyword">self</span> reload];
}

<span class="hljs-comment">//Remove Device</span>
- (<span class="hljs-keyword">void</span>)home:(TuyaSmartHome *)home didRemoveDeivice:(<span class="hljs-built_in">NSString</span> *)devId {
    [<span class="hljs-keyword">self</span> reload];
}

<span class="hljs-comment">//Update information of device, such as name.</span>
- (<span class="hljs-keyword">void</span>)home:(TuyaSmartHome *)home deviceInfoUpdate:(TuyaSmartDeviceModel *)device {
    [<span class="hljs-keyword">self</span> reload];
}

<span class="hljs-comment">//Update dp data of device.</span>
- (<span class="hljs-keyword">void</span>)home:(TuyaSmartHome *)home device:(TuyaSmartDeviceModel *)device dpsUpdate:(<span class="hljs-built_in">NSDictionary</span> *)dps {
    [<span class="hljs-keyword">self</span> reload];
}

<span class="hljs-comment">// Add group.</span>
- (<span class="hljs-keyword">void</span>)home:(TuyaSmartHome *)home didAddGroup:(TuyaSmartGroupModel *)group {
    [<span class="hljs-keyword">self</span> reload];
}

<span class="hljs-comment">// Momove group.</span>
- (<span class="hljs-keyword">void</span>)home:(TuyaSmartHome *)home didRemoveGroup:(<span class="hljs-built_in">NSString</span> *)groupId {
    [<span class="hljs-keyword">self</span> reload];
}

<span class="hljs-comment">//Update information of group, such as name.</span>
- (<span class="hljs-keyword">void</span>)home:(TuyaSmartHome *)home groupInfoUpdate:(TuyaSmartGroupModel *)group {
    [<span class="hljs-keyword">self</span> reload];
}
</code></pre>
<h3 id="obtain-information-of-home">Obtain information of home.</h3>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)getHomeDetailInfo {

    [<span class="hljs-keyword">self</span>.home getHomeDetailWithSuccess:^(TuyaSmartHomeModel *homeModel) {
        <span class="hljs-comment">// homeModel home information</span>
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get home detail success&quot;</span>);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;get home detail failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="update-home-information">Update home information</h3>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)updateHomeInfo {
    [<span class="hljs-keyword">self</span>.home updateHomeInfoWithName:<span class="hljs-string">@&quot;new_home_name&quot;</span> geoName:<span class="hljs-string">@&quot;city_name&quot;</span> latitude:lat longitude:lon success:^{
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;update home info success&quot;</span>);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;update home info failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="dismiss-home">Dismiss home</h3>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)dismissHome {

    [<span class="hljs-keyword">self</span>.home dismissHomeWithSuccess:^() {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;dismiss home success&quot;</span>);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;dismiss home failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="add-room">Add room</h3>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)addHomeRoom {
    [<span class="hljs-keyword">self</span>.home addHomeRoomWithName:<span class="hljs-string">@&quot;room_name&quot;</span> success:^{
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;add room success&quot;</span>);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;add room failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="remove-room">Remove room</h3>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)removeHomeRoom {
    [<span class="hljs-keyword">self</span>.home removeHomeRoomWithRoomId:roomId success:^{
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;remove room success&quot;</span>);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;remove room failure: %@&quot;</span>, error);
    }];
}
</code></pre>
<h3 id="sort-room">Sort room</h3>
<pre><code class="lang-objc">- (<span class="hljs-keyword">void</span>)sortHomeRoom {
    [<span class="hljs-keyword">self</span>.home sortRoomList:(<span class="hljs-built_in">NSArray</span>&lt;TuyaSmartRoomModel *&gt; *) success:^{
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;sort room success&quot;</span>);
    } failure:^(<span class="hljs-built_in">NSError</span> *error) {
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;sort room failure: %@&quot;</span>, error);
    }];   
}
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="HomeManager.html" class="navigation navigation-prev " aria-label="Previous page: Home management">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Room.html" class="navigation navigation-next " aria-label="Next page: Room information management">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Home information management","level":"1.6.2","depth":2,"next":{"title":"Room information management","level":"1.7","depth":1,"path":"resource/Room.md","ref":"./resource/Room.md","articles":[]},"previous":{"title":"Home management","level":"1.6.1","depth":2,"path":"resource/HomeManager.md","ref":"./resource/HomeManager.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/Home.md","mtime":"2018-10-30T10:52:35.064Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-10-30T12:03:57.681Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

